<%- include('../partials/header') %>

  <h1 class="page-title mb-4">Add Assignment</h1>

  <div class="card hero-card p-4">
    <% if (errors && errors.message) { %>
      <div class="alert alert-danger">
        <%= errors.message %>
      </div>
    <% } %>

    <form action="/assignments" method="POST" class="mt-2">

      <div class="mb-3">
        <label for="title" class="form-label">Assignment Title</label>
        <input
          type="text"
          id="title"
          name="title"
          class="form-control"
          value="<%= assignment.title || '' %>"
          required
        >
      </div>

      <div class="mb-3">
        <label for="course" class="form-label">Course</label>
        <input
          type="text"
          id="course"
          name="course"
          class="form-control"
          value="<%= assignment.course || '' %>"
          required
        >
      </div>

      <div class="mb-3">
        <label for="dueDate" class="form-label">Due Date</label>
        <input
          type="date"
          id="dueDate"
          name="dueDate"
          class="form-control"
          value="<%= assignment.dueDate ? assignment.dueDate.toISOString().substring(0,10) : '' %>"
          required
        >
      </div>

      <div class="mb-3">
        <label for="status" class="form-label">Status</label>
        <select id="status" name="status" class="form-select">
          <option value="Not started" <%= assignment.status === 'Not started' ? 'selected' : '' %>>Not started</option>
          <option value="In progress" <%= assignment.status === 'In progress' ? 'selected' : '' %>>In progress</option>
          <option value="Done" <%= assignment.status === 'Done' ? 'selected' : '' %>>Done</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="notes" class="form-label">Notes (optional)</label>
        <textarea
          id="notes"
          name="notes"
          class="form-control"
          rows="3"
        ><%= assignment.notes || '' %></textarea>
      </div>

      <div class="d-flex justify-content-between">
        <a href="/assignments" class="btn btn-outline-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Save Assignment</button>
      </div>

    </form>
  </div>

<%- include('../partials/footer') %>


